
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Full documentation for the Week06 project hosted on Deepwiki">
      
      
        <meta name="author" content="Lourdes12587">
      
      
      
        <link rel="prev" href="../User-Registration/">
      
      
        <link rel="next" href="../Role-Based-Access-Control/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>User Login - Week06 Project Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-login" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Week06 Project Documentation" class="md-header__button md-logo" aria-label="Week06 Project Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Week06 Project Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Login
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://deepwiki.com/Lourdes12587/Week06/1-overview9" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Deepwiki
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Overview/" class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Getting-Started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Project-Structure/" class="md-tabs__link">
          
  
  
  Project Structure

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Technology-Stack/" class="md-tabs__link">
          
  
  
  Architecture Overview

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Authentication-%26-Authorization/" class="md-tabs__link">
          
  
  
  Authentication & Authorization

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Course-Management-System/" class="md-tabs__link">
          
  
  
  Course Management System

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../User-Profiles/" class="md-tabs__link">
          
  
  
  User Profiles

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Frontend-Architecture/" class="md-tabs__link">
          
  
  
  Frontend Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../API-Reference/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
  Appendix

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Week06 Project Documentation" class="md-nav__button md-logo" aria-label="Week06 Project Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Week06 Project Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://deepwiki.com/Lourdes12587/Week06/1-overview9" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Deepwiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Getting-Started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Project Structure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Project Structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Project-Structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Adding-New-Routes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding New Routes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Architecture Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Technology-Stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technology Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Application-Entry-Point/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Entry Point
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Database-Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Database-Operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Routing-System/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Routing System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Security-Considerations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Considerations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Authentication & Authorization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Authentication-%26-Authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User-Registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Registration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    User Login
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    User Login
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose-and-scope" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose and Scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login-form-presentation" class="md-nav__link">
    <span class="md-ellipsis">
      Login Form Presentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Login Form Presentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#route-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Route Handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Form Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-flow-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Flow Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Request Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credential-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Credential Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-query" class="md-nav__link">
    <span class="md-ellipsis">
      Database Query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Password Verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Session Initialization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-handling-with-sweetalert2" class="md-nav__link">
    <span class="md-ellipsis">
      Response Handling with SweetAlert2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Response Handling with SweetAlert2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alert-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Alert Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alert-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      Alert Scenarios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Alert Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#missing-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Missing Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Invalid Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#successful-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Successful Authentication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sweetalert2-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      SweetAlert2 Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login-page-styling" class="md-nav__link">
    <span class="md-ellipsis">
      Login Page Styling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Login Page Styling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layout-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Layout Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Form Elements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-entity-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Code Entity Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code Entity Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-route-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Route Handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-and-view-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Template and View Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#password-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Password Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-injection-prevention" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Injection Prevention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-security" class="md-nav__link">
    <span class="md-ellipsis">
      Session Security
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-points" class="md-nav__link">
    <span class="md-ellipsis">
      Integration Points
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Role-Based-Access-Control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Role-Based Access Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Session-Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Authentication-Views/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication Views
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Authentication-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Course Management System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Course Management System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Course-Management-System/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Creating-Courses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Courses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Editing-%26-Deleting-Courses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Editing & Deleting Courses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Course-Listing-%26-Visibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Listing & Visibility
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Course-Enrollment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Enrollment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Course-Management-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Management Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Profiles
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            User Profiles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User-Profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User-Profile-Page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Profile Page
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Administrator-Dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Administrator Dashboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Profile-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profile Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Frontend Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Frontend Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Frontend-Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Template-System-%26-Partials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template System & Partials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Landing-Page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Landing Page
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Styling-System/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Styling System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Development-Guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../API-Reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Authentication-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Course-Management-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Management Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Profile-Endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profile Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    README
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="user-login">User Login<a class="headerlink" href="#user-login" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Relevant source files</strong>
* <a href="public/css/login">public/css/login.css</a>
* <a href="routes/auth">routes/auth.js</a>
* <a href="views/login">views/login.ejs</a></p>
</blockquote>
<h2 id="purpose-and-scope">Purpose and Scope<a class="headerlink" href="#purpose-and-scope" title="Permanent link">&para;</a></h2>
<p>This document details the user login functionality, covering the authentication process where existing users provide credentials and gain access to the system. The login process includes credential validation, password verification using bcrypt, session creation, and role-based response handling.</p>
<p>For information about creating new user accounts, see <a href="4.1-user-registration.md">User Registration</a>. For details about how roles control access to protected routes, see <a href="4.3-role-based-access-control.md">Role-Based Access Control</a>. For session storage and management, see <a href="4.4-session-management.md">Session Management</a>.</p>
<hr />
<h2 id="login-form-presentation">Login Form Presentation<a class="headerlink" href="#login-form-presentation" title="Permanent link">&para;</a></h2>
<p>The login form is rendered at the <code>/login</code> endpoint, providing a simple interface for credential submission.</p>
<h3 id="route-handler">Route Handler<a class="headerlink" href="#route-handler" title="Permanent link">&para;</a></h3>
<p>The GET <code>/login</code> route is defined in <a href="routes/auth#L8-L10">routes/auth.js L8-L10</a></p>
<p>and renders the login view without any additional data:</p>
<div class="highlight"><pre><span></span><code>GET /login → renders views/login.ejs
</code></pre></div>
<h3 id="form-structure">Form Structure<a class="headerlink" href="#form-structure" title="Permanent link">&para;</a></h3>
<p>The login form in <a href="views/login#L8-L13">views/login.ejs L8-L13</a></p>
<p>contains two input fields and submits via POST to <code>/auth</code>:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Name</th>
<th>Placeholder</th>
</tr>
</thead>
<tbody>
<tr>
<td>Email/Username</td>
<td>text</td>
<td><code>email</code></td>
<td>"Ingrese su Usuario"</td>
</tr>
<tr>
<td>Password</td>
<td>password</td>
<td><code>password</code></td>
<td>"Ingrese su contraseña"</td>
</tr>
<tr>
<td>Submit Button</td>
<td>submit</td>
<td>-</td>
<td>"Ingresar"</td>
</tr>
</tbody>
</table>
<p>The form uses the <code>login-container</code> class and is wrapped in an <code>auth-wrapper</code> for consistent styling. A registration link is provided below the form at <a href="views/login#L14-L16">views/login.ejs L14-L16</a></p>
<p><strong>Sources:</strong> <a href="views/login#L1-L34">views/login.ejs L1-L34</a></p>
<p><a href="routes/auth#L8-L10">routes/auth.js L8-L10</a></p>
<hr />
<h2 id="authentication-flow">Authentication Flow<a class="headerlink" href="#authentication-flow" title="Permanent link">&para;</a></h2>
<h3 id="authentication-flow-diagram">Authentication Flow Diagram<a class="headerlink" href="#authentication-flow-diagram" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
  participant Browser
  participant POST /auth
  participant routes/auth.js
  participant bcryptjs
  participant MySQL Database
  participant usuarios table
  participant req.session
  participant login.ejs

  Browser-&gt;&gt;POST /auth: "POST /auth
  loop [Password Mismatch]
    POST /auth-&gt;&gt;login.ejs: {email, password}"
    login.ejs-&gt;&gt;Browser: "Render alert:
    POST /auth-&gt;&gt;MySQL Database: Ingrese el usuario y/o contraseña"
    MySQL Database-&gt;&gt;POST /auth: "Show error alert"
    POST /auth-&gt;&gt;login.ejs: "SELECT * FROM usuarios WHERE email = ?"
    login.ejs-&gt;&gt;Browser: "Return user record(s)"
    POST /auth-&gt;&gt;bcryptjs: "Render alert:
    bcryptjs-&gt;&gt;POST /auth: Usuario y/o contraseña incorrectos"
    POST /auth-&gt;&gt;login.ejs: "Show error alert"
    login.ejs-&gt;&gt;Browser: "bcrypt.compare(password, hash)"
    POST /auth-&gt;&gt;req.session: "Return comparison result"
    POST /auth-&gt;&gt;login.ejs: "Render alert:
    login.ejs-&gt;&gt;Browser: Usuario y/o contraseña incorrectos"
  end</code></pre>
<p><strong>Sources:</strong> <a href="routes/auth#L75-L131">routes/auth.js L75-L131</a></p>
<h3 id="request-processing">Request Processing<a class="headerlink" href="#request-processing" title="Permanent link">&para;</a></h3>
<p>The POST <code>/auth</code> endpoint in <a href="routes/auth#L75-L131">routes/auth.js L75-L131</a></p>
<p>handles authentication. The process begins by extracting credentials from the request body:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
</code></pre></div>
<p><strong>Sources:</strong> <a href="routes/auth#L77-L78">routes/auth.js L77-L78</a></p>
<h3 id="credential-validation">Credential Validation<a class="headerlink" href="#credential-validation" title="Permanent link">&para;</a></h3>
<p>The handler first checks if both email and password are provided <a href="routes/auth#L80-L80">routes/auth.js L80</a></p>
<p>If either is missing, an error alert is rendered.</p>
<h3 id="database-query">Database Query<a class="headerlink" href="#database-query" title="Permanent link">&para;</a></h3>
<p>When credentials are present, the system queries the <code>usuarios</code> table <a href="routes/auth#L81-L84">routes/auth.js L81-L84</a></p>
<p>:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">usuarios</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span>
</code></pre></div>
<p>The email parameter is passed as an array to prevent SQL injection: <code>[email]</code>.</p>
<p><strong>Sources:</strong> <a href="routes/auth#L81-L84">routes/auth.js L81-L84</a></p>
<h3 id="password-verification">Password Verification<a class="headerlink" href="#password-verification" title="Permanent link">&para;</a></h3>
<p>Password verification occurs in <a href="routes/auth#L85-L87">routes/auth.js L85-L87</a></p>
<p>using bcrypt's asynchronous compare function:</p>
<div class="highlight"><pre><span></span><code>await bcrypt.compare(password, results[0].password)
</code></pre></div>
<p>The system checks two conditions:</p>
<ol>
<li>Whether any user records were returned (<code>results.length == 0</code>)</li>
<li>Whether the provided password matches the stored hash</li>
</ol>
<p>If either check fails, authentication is denied.</p>
<p><strong>Sources:</strong> <a href="routes/auth#L85-L87">routes/auth.js L85-L87</a></p>
<h3 id="session-initialization">Session Initialization<a class="headerlink" href="#session-initialization" title="Permanent link">&para;</a></h3>
<p>Upon successful authentication <a href="routes/auth#L98-L104">routes/auth.js L98-L104</a></p>
<p>the system establishes a session by setting three session variables:</p>
<table>
<thead>
<tr>
<th>Session Variable</th>
<th>Source</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>req.session.loggedin</code></td>
<td><code>true</code></td>
<td>Indicates authenticated state</td>
</tr>
<tr>
<td><code>req.session.usuario</code></td>
<td><code>results[0]</code></td>
<td>Stores complete user record</td>
</tr>
<tr>
<td><code>req.session.rol</code></td>
<td><code>usuario.rol</code></td>
<td>Stores user role for access control</td>
</tr>
</tbody>
</table>
<p>This session data persists across requests and is used by authentication middleware throughout the application.</p>
<p><strong>Sources:</strong> <a href="routes/auth#L100-L104">routes/auth.js L100-L104</a></p>
<hr />
<h2 id="response-handling-with-sweetalert2">Response Handling with SweetAlert2<a class="headerlink" href="#response-handling-with-sweetalert2" title="Permanent link">&para;</a></h2>
<h3 id="alert-configuration">Alert Configuration<a class="headerlink" href="#alert-configuration" title="Permanent link">&para;</a></h3>
<p>The login process uses SweetAlert2 for user feedback. All responses render the <code>login.ejs</code> template with an <code>alert</code> object containing these properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alert</code></td>
<td>boolean</td>
<td>Triggers SweetAlert2 script execution</td>
</tr>
<tr>
<td><code>alertTitle</code></td>
<td>string</td>
<td>Alert dialog title</td>
</tr>
<tr>
<td><code>alertMessage</code></td>
<td>string</td>
<td>Alert dialog message text</td>
</tr>
<tr>
<td><code>alertIcon</code></td>
<td>string</td>
<td>Icon type (success/error/warning)</td>
</tr>
<tr>
<td><code>showConfirmButton</code></td>
<td>boolean</td>
<td>Whether to show confirm button</td>
</tr>
<tr>
<td><code>timer</code></td>
<td>number/false</td>
<td>Auto-close timer in milliseconds</td>
</tr>
<tr>
<td><code>ruta</code></td>
<td>string</td>
<td>Redirect path after alert</td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="views/login#L20-L32">views/login.ejs L20-L32</a></p>
<p><a href="routes/auth#L88-L97">routes/auth.js L88-L97</a></p>
<p><a href="routes/auth#L106-L115">routes/auth.js L106-L115</a></p>
<h3 id="alert-scenarios">Alert Scenarios<a class="headerlink" href="#alert-scenarios" title="Permanent link">&para;</a></h3>
<h4 id="missing-credentials">Missing Credentials<a class="headerlink" href="#missing-credentials" title="Permanent link">&para;</a></h4>
<p><a href="routes/auth#L120-L130">routes/auth.js L120-L130</a></p>
<ul>
<li>
<p>When email or password is not provided:</p>
</li>
<li>
<p><strong>Title:</strong> "Advertencia"</p>
</li>
<li><strong>Message:</strong> "Ingrese el usuario y/o contraseña"</li>
<li><strong>Icon:</strong> error</li>
<li><strong>Confirm Button:</strong> Shown</li>
<li><strong>Timer:</strong> No auto-close</li>
<li><strong>Redirect:</strong> None (stays on login page)</li>
</ul>
<h4 id="invalid-credentials">Invalid Credentials<a class="headerlink" href="#invalid-credentials" title="Permanent link">&para;</a></h4>
<p><a href="routes/auth#L88-L97">routes/auth.js L88-L97</a></p>
<ul>
<li>
<p>When email not found or password doesn't match:</p>
</li>
<li>
<p><strong>Title:</strong> "Error"</p>
</li>
<li><strong>Message:</strong> "Usuario y/o contraseña incorrectos"</li>
<li><strong>Icon:</strong> error</li>
<li><strong>Confirm Button:</strong> Shown</li>
<li><strong>Timer:</strong> No auto-close</li>
<li><strong>Redirect:</strong> Stays on <code>/login</code></li>
</ul>
<h4 id="successful-authentication">Successful Authentication<a class="headerlink" href="#successful-authentication" title="Permanent link">&para;</a></h4>
<p><a href="routes/auth#L106-L115">routes/auth.js L106-L115</a></p>
<ul>
<li>
<p>When credentials are valid:</p>
</li>
<li>
<p><strong>Title:</strong> "Conexion exitosa"</p>
</li>
<li><strong>Message:</strong> "Has iniciado sesión correctamente"</li>
<li><strong>Icon:</strong> success</li>
<li><strong>Confirm Button:</strong> Hidden</li>
<li><strong>Timer:</strong> 1500ms (1.5 seconds)</li>
<li><strong>Redirect:</strong> Root path <code>/</code></li>
</ul>
<h3 id="sweetalert2-implementation">SweetAlert2 Implementation<a class="headerlink" href="#sweetalert2-implementation" title="Permanent link">&para;</a></h3>
<p>The alert script in <a href="views/login#L20-L32">views/login.ejs L20-L32</a></p>
<p>executes when the <code>alert</code> variable is defined:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Swal</span><span class="p">.</span><span class="nx">fire</span><span class="p">({</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;%= alertTitle %&gt;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;%= alertMessage %&gt;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;%= alertIcon %&gt;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">showConfirmButton</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;%=</span><span class="w"> </span><span class="nx">showConfirmButton</span><span class="w"> </span><span class="o">%&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">timer</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;%=</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">%&gt;</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/&lt;%= ruta %&gt;&#39;</span>
<span class="p">})</span>
</code></pre></div>
<p>The <code>.then()</code> callback redirects the user after the alert is dismissed or the timer expires.</p>
<p><strong>Sources:</strong> <a href="views/login#L18-L32">views/login.ejs L18-L32</a></p>
<hr />
<h2 id="login-page-styling">Login Page Styling<a class="headerlink" href="#login-page-styling" title="Permanent link">&para;</a></h2>
<p>The login page uses dedicated styles defined in <a href="public/css/login">public/css/login.css</a></p>
<p>Key styling features include:</p>
<h3 id="layout-structure">Layout Structure<a class="headerlink" href="#layout-structure" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Element</th>
<th>Class</th>
<th>Styling</th>
</tr>
</thead>
<tbody>
<tr>
<td>Page Background</td>
<td><code>body</code></td>
<td>Gradient background (135deg, #74ebd5 to #9face6), flexbox centering</td>
</tr>
<tr>
<td>Form Container</td>
<td><code>.auth-wrapper</code></td>
<td>White background, 2.5rem padding, 15px border-radius, box shadow</td>
</tr>
<tr>
<td>Login Form</td>
<td><code>.login-container</code></td>
<td>Flexbox column layout, full width</td>
</tr>
</tbody>
</table>
<h3 id="form-elements">Form Elements<a class="headerlink" href="#form-elements" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Input Fields</strong> <a href="public/css/login#L35-L47">public/css/login.css L35-L47</a>  - 0.75rem vertical padding, 1rem horizontal padding, 8px border-radius, focus state with #74ebd5 border color</li>
<li><strong>Submit Button</strong> <a href="public/css/login#L49-L62">public/css/login.css L49-L62</a>  - Blue background (#4a6cf7), white text, hover effect darkens to #3f5cd8</li>
<li><strong>Register Link</strong> <a href="public/css/login#L74-L83">public/css/login.css L74-L83</a>  - Blue text (#4a6cf7) matching button color, bold font weight, hover darkening effect</li>
</ul>
<p><strong>Sources:</strong> <a href="public/css/login#L1-L83">public/css/login.css L1-L83</a></p>
<hr />
<h2 id="code-entity-reference">Code Entity Reference<a class="headerlink" href="#code-entity-reference" title="Permanent link">&para;</a></h2>
<h3 id="authentication-route-handler">Authentication Route Handler<a class="headerlink" href="#authentication-route-handler" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TD

AuthRouter["routes/auth.js"]
GetLogin["GET /login&lt;br&gt;Line 8-10"]
PostAuth["POST /auth&lt;br&gt;Line 75-131"]
ExtractCreds["Extract email, password&lt;br&gt;Line 77-78"]
CheckPresence["Check if (email &amp;&amp; password)&lt;br&gt;Line 80"]
QueryDB["db.query SELECT FROM usuarios&lt;br&gt;Line 81-84"]
CheckResults["Check results.length&lt;br&gt;Line 85"]
ComparePass["bcrypt.compare&lt;br&gt;Line 86"]
SetSession["req.session.loggedin = true&lt;br&gt;req.session.usuario = results[0]&lt;br&gt;req.session.rol = usuario.rol&lt;br&gt;Line 102-104"]
RenderError1["Render login with error alert&lt;br&gt;Line 88-97"]
RenderError2["Render login with warning alert&lt;br&gt;Line 120-130"]
RenderSuccess["Render login with success alert&lt;br&gt;Line 106-115"]

AuthRouter --&gt; GetLogin
AuthRouter --&gt; PostAuth
PostAuth --&gt; ExtractCreds
ExtractCreds --&gt; CheckPresence
CheckPresence --&gt; RenderError2
CheckPresence --&gt; QueryDB
QueryDB --&gt; CheckResults
CheckResults --&gt; ComparePass
ComparePass --&gt; RenderError1
ComparePass --&gt; SetSession
SetSession --&gt; RenderSuccess</code></pre>
<p><strong>Sources:</strong> <a href="routes/auth#L8-L131">routes/auth.js L8-L131</a></p>
<h3 id="template-and-view-integration">Template and View Integration<a class="headerlink" href="#template-and-view-integration" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TD

LoginEJS["views/login.ejs"]
Head["partials/head&lt;br&gt;Line 1"]
Header["partials/header&lt;br&gt;Line 3"]
CSS["public/css/login.css&lt;br&gt;Line 5"]
SweetAlert["SweetAlert2 CDN&lt;br&gt;Line 18"]
Form["Form Element&lt;br&gt;action='/auth'&lt;br&gt;method='POST'&lt;br&gt;Line 8"]
EmailInput["input name='email'&lt;br&gt;Line 10"]
PasswordInput["input name='password'&lt;br&gt;Line 11"]
SubmitBtn["button type='submit'&lt;br&gt;Line 12"]
AlertScript["Conditional SweetAlert2 Script&lt;br&gt;Line 20-32"]

LoginEJS --&gt; Head
LoginEJS --&gt; Header
LoginEJS --&gt; CSS
LoginEJS --&gt; SweetAlert
LoginEJS --&gt; Form
LoginEJS --&gt; AlertScript
Form --&gt; EmailInput
Form --&gt; PasswordInput
Form --&gt; SubmitBtn</code></pre>
<p><strong>Sources:</strong> <a href="views/login#L1-L34">views/login.ejs L1-L34</a></p>
<hr />
<h2 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">&para;</a></h2>
<h3 id="password-comparison">Password Comparison<a class="headerlink" href="#password-comparison" title="Permanent link">&para;</a></h3>
<p>The authentication process uses bcrypt's asynchronous <code>compare</code> function <a href="routes/auth#L86-L86">routes/auth.js L86</a></p>
<p>rather than plain text comparison. This ensures:</p>
<ul>
<li>Timing-safe comparison resistant to timing attacks</li>
<li>Proper handling of bcrypt's salt verification</li>
<li>Asynchronous operation preventing blocking</li>
</ul>
<h3 id="sql-injection-prevention">SQL Injection Prevention<a class="headerlink" href="#sql-injection-prevention" title="Permanent link">&para;</a></h3>
<p>The database query uses parameterized queries <a href="routes/auth#L82-L83">routes/auth.js L82-L83</a></p>
<p>:</p>
<div class="highlight"><pre><span></span><code><span class="n">db</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="ss">&quot;SELECT * FROM usuarios WHERE email = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">email</span><span class="p">],</span><span class="w"> </span><span class="p">...)</span>
</code></pre></div>
<p>The <code>?</code> placeholder with parameter array prevents SQL injection by properly escaping user input.</p>
<h3 id="session-security">Session Security<a class="headerlink" href="#session-security" title="Permanent link">&para;</a></h3>
<p>Session data is stored server-side with only a session ID cookie sent to the client. The session includes:</p>
<ul>
<li>Full user object access via <code>req.session.usuario</code></li>
<li>Role information in <code>req.session.rol</code> for authorization checks</li>
<li>Authentication flag in <code>req.session.loggedin</code></li>
</ul>
<p>For detailed session configuration and security settings, see <a href="4.4-session-management.md">Session Management</a>.</p>
<p><strong>Sources:</strong> <a href="routes/auth#L75-L131">routes/auth.js L75-L131</a></p>
<hr />
<h2 id="integration-points">Integration Points<a class="headerlink" href="#integration-points" title="Permanent link">&para;</a></h2>
<p>The login functionality integrates with several other system components:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Integration Point</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database</td>
<td><code>config/db</code> module</td>
<td>Queries <code>usuarios</code> table for credential verification</td>
</tr>
<tr>
<td>Session</td>
<td><code>req.session</code> object</td>
<td>Stores authentication state and user data</td>
</tr>
<tr>
<td>Registration</td>
<td><code>/register</code> link</td>
<td>Allows new users to create accounts</td>
</tr>
<tr>
<td>Authorization</td>
<td>Session variables</td>
<td>Provides data for role-based middleware (see <a href="4.3-role-based-access-control.md">Role-Based Access Control</a>)</td>
</tr>
<tr>
<td>Home Page</td>
<td>Redirect on success</td>
<td>Returns users to root path after successful login</td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="routes/auth#L4-L4">routes/auth.js L4</a></p>
<p><a href="routes/auth#L102-L104">routes/auth.js L102-L104</a></p>
<p><a href="views/login#L15-L15">views/login.ejs L15</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "navigation.tabs", "toc.integrate", "content.code.copy", "content.action.edit"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>